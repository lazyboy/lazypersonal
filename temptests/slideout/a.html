<html>
  <head>
    <title>testing page</title>

<script type="text/javascript">
  function $(id) { return document.getElementById(id); }
  function _log(msg) {
    if (window['console'] && window['console']['log']) {
      window['console']['log'](msg);
    }
    $('logdiv').innerHTML += '<div>' + msg + '</div>';
  }

  function demo() {
    _log('start demo');
    /*
    var tmp = $('boo');
    tmp.style.display = '';
    tmp.style.opacity = '1.0';
    //tmp.style.removeProperty('height');
    tmp.style.height = '1em';
//    if (1 == 1) return;
    */
    
    var mydiv = $('remaining');
    //mydiv.style.height = '500px';
//    mydiv.style.display = '';
//    mydiv.style.removeProperty('height');
    var reminnerdiv = $('reminner');
    //reminnerdiv.style.height = '100%';
    //reminnerdiv.style.height = '120px';
    //reminnerdiv.style.height = '';
    //reminnerdiv.style.removeProperty('height');
    //reminnerdiv.style.display = '';
//    reminnerdiv.style.position = 'relative';

//    reminnerdiv.style.display = '';
    mydiv.style.height = reminnerdiv.offsetHeight + 'px';

//    mydiv.style['-webkit-transform'] = 'scaleY(1.0)';
    _log('done demo');
  }
</script>

<style type="text/css">
.logdiv {
  font-size: 10px;
  color: blue;
}
.outer {
  position: relative;
}
.row {
  height: 40px;
  background-color: #eee;
}
.first {
  color: blue;
}
.rhide {
/*  position: relative;*/
}
.remaining {
/*
  -webkit-transition: all ease-out 0.5s;
  -webkit-transform: scaleY(0);
*/
  position: relative;
  -webkit-transition: all ease-out 4s; 
}
.reminner {
}
</style>
  </head>
  <body>
    <div>
      <div class="outer">
        <div class="row first" onclick="demo();">
      	  First row.
	      </div>
        <div id="remaining" class="remaining" style="height: 0; overflow: hidden;">
          <div id="reminner" class="reminner">
            <div class="row rhide">Test row1</div>
            <div class="row rhide">Test row2</div>
            <div class="row rhide">Test row3</div>
          </div>
        </div>
      </div>
    </div>
    <div id="boo" style="height: 0; -webkit-transition: all ease-in 1s;">
      testing
    </div>

    <div id="logdiv" class="logdiv"></div>
  </body>
</html>
